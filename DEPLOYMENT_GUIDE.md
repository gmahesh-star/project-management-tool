# Deployment Guide

Complete guide for deploying the Project Management Tool to production.

## Quick Deployment Links

- **Frontend**: Deploy to Vercel/Netlify
- **Backend**: Deploy to Railway/Render/Heroku
- **Database**: Use managed PostgreSQL (Railway/Render/Supabase)

---

## Backend Deployment

### Option 1: Railway (Recommended)

1. **Create Railway Account**: https://railway.app

2. **Create New Project**:
   - Click "New Project"
   - Select "Deploy from GitHub repo"
   - Connect your repository

3. **Add PostgreSQL Database**:
   - Click "New" → "Database" → "PostgreSQL"
   - Railway will auto-generate DATABASE_URL

4. **Configure Environment Variables**:
   ```
   DATABASE_URL=<auto-generated>
   SECRET_KEY=<generate-strong-key>
   ALGORITHM=HS256
   ACCESS_TOKEN_EXPIRE_MINUTES=30
   GROQ_API_KEY=<your-groq-key>
   ```

5. **Deploy**:
   - Railway auto-deploys on git push
   - Backend URL: `https://your-app.railway.app`

### Option 2: Render

1. Create account at https://render.com
2. New → Web Service
3. Connect GitHub repository
4. Configure:
   - Build Command: `pip install -r requirements.txt`
   - Start Command: `uvicorn app.main:app --host 0.0.0.0 --port $PORT`
5. Add environment variables
6. Create PostgreSQL database
7. Deploy

---

## Frontend Deployment

### Vercel (Recommended)

1. **Install Vercel CLI**:
   ```bash
   npm install -g vercel
   ```

2. **Deploy from frontend directory**:
   ```bash
   cd frontend
   vercel --prod
   ```

3. **Configure Environment Variables** in Vercel Dashboard:
   ```
   VITE_API_URL=https://your-backend-url.railway.app
   ```

4. **Automatic Deployments**:
   - Connect GitHub repository
   - Auto-deploy on push to main branch

### Netlify

1. **Build the app**:
   ```bash
   cd frontend
   npm run build
   ```

2. **Deploy**:
   ```bash
   npm install -g netlify-cli
   netlify deploy --prod
   ```

3. **Configure**:
   - Build command: `npm run build`
   - Publish directory: `dist`
   - Environment variables: `VITE_API_URL`

---

## Database Setup

### Railway PostgreSQL

- Automatically provisioned with Railway backend
- Connection string provided as DATABASE_URL
- Includes backups and monitoring

### Supabase (Alternative)

1. Create project at https://supabase.com
2. Get connection string from Settings → Database
3. Use in backend DATABASE_URL

---

## Environment Variables Checklist

### Backend
- ✅ DATABASE_URL
- ✅ SECRET_KEY (generate with: `openssl rand -hex 32`)
- ✅ ALGORITHM
- ✅ ACCESS_TOKEN_EXPIRE_MINUTES
- ✅ GROQ_API_KEY

### Frontend
- ✅ VITE_API_URL

---

## Post-Deployment Steps

1. **Test API**: Visit `https://your-backend.railway.app/docs`
2. **Register Admin User**: Use frontend registration
3. **Test AI Features**: Ensure GROQ_API_KEY works
4. **Configure CORS**: Update allowed origins in backend
5. **Monitor Logs**: Check Railway/Vercel logs

---

## Production Checklist

- [ ] Strong SECRET_KEY generated
- [ ] HTTPS enabled (automatic on Railway/Vercel)
- [ ] CORS configured for production domain
- [ ] Database backups enabled
- [ ] Environment variables secured
- [ ] API rate limiting added (future)
- [ ] Error monitoring setup (Sentry)
- [ ] Performance monitoring

---

## Troubleshooting

### Backend Issues
- Check Railway logs: `railway logs`
- Verify DATABASE_URL connection
- Ensure all dependencies in requirements.txt

### Frontend Issues
- Check browser console for errors
- Verify VITE_API_URL is correct
- Test API endpoints with Postman

### Database Issues
- Check connection string format
- Verify database exists
- Check firewall/network settings

---

## Monitoring & Maintenance

- **Railway**: Built-in metrics and logs
- **Vercel**: Analytics dashboard
- **Database**: Monitor query performance
- **Uptime**: Use UptimeRobot or similar

---

## Cost Estimates

- **Railway**: $5-20/month (includes DB)
- **Vercel**: Free for hobby projects
- **Domain**: $10-15/year (optional)

**Total**: ~$5-20/month for production deployment
